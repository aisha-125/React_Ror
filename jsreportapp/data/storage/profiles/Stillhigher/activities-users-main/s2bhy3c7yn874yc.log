{"type":"operationStart","subtype":"profile","data":{"_id":"593dZyp1Xxyzl452","timestamp":"2024-01-14T23:12:32.302Z","state":"queued","mode":"standard","creationDate":"2024-01-14T23:12:32.302Z","modificationDate":"2024-01-14T23:12:32.302Z","shortid":"Oz39Vjk","$entitySet":"profiles"},"doDiffs":false,"timestamp":1705273952302,"id":"niik8s64t9i0spv","previousOperationId":null,"operationId":"aopu1tycrzjcdlc"}
{"type":"log","level":"info","message":"Render request 175 queued for execution and waiting for available worker","previousOperationId":"aopu1tycrzjcdlc","timestamp":1705273952302,"id":"bja1d1sr04m2d33"}
{"type":"operationStart","subtype":"render","name":"activities-users-main","previousOperationId":"aopu1tycrzjcdlc","timestamp":1705273952306,"id":"vw2kjylo23yxomc","previousEventId":"niik8s64t9i0spv","operationId":"8fgbmst7foam0l0"}
{"type":"log","timestamp":1705273952306,"level":"info","message":"Starting rendering request 175","meta":{"rootId":"s2bhy3c7yn874yc","id":"s2bhy3c7yn874yc"},"id":"gcr4ty6eiih7zex","previousOperationId":"8fgbmst7foam0l0"}
{"type":"log","timestamp":1705273952306,"level":"info","message":"Rendering template { name: activities-users-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"s2bhy3c7yn874yc","id":"s2bhy3c7yn874yc"},"id":"g2fmywoqe91my1w","previousOperationId":"8fgbmst7foam0l0"}
{"type":"log","timestamp":1705273952306,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"s2bhy3c7yn874yc","id":"s2bhy3c7yn874yc"},"id":"ksuq9bymfk0vnbi","previousOperationId":"8fgbmst7foam0l0"}
{"type":"log","timestamp":1705273952307,"level":"debug","message":"Executing script users-script (beforeRender)","meta":{"rootId":"s2bhy3c7yn874yc","id":"s2bhy3c7yn874yc"},"id":"iqshrcpx43wd6y2","previousOperationId":"8fgbmst7foam0l0"}
{"type":"log","timestamp":1705273952313,"level":"warn","message":"Error when processing render request 175\n(because) error when evaluating custom script /Stillhigher/users-script\nUnable to find module fetch\nThe require calls:\nrequire('fetch')\nrequire('/home/ruby/workspace/React_RoR/jsreportapp/fetch')\nrequire('/home/ruby/workspace/React_RoR/jsreportapp/node_modules/@jsreport/jsreport-cli/lib/fetch')\n\n\n(sandbox.js line 1:164)\n\n> 1 | const fethc = require('fetch');\n    |                                ^\n  2 |\n  3 | function fetchActivities() {\n  4 |     return fetch('http://localhost:4000/api/v1/activities')\n\n\nError: Unable to find module fetch\nThe require calls:\nrequire('fetch')\nrequire('/home/ruby/workspace/React_RoR/jsreportapp/fetch')\nrequire('/home/ruby/workspace/React_RoR/jsreportapp/node_modules/@jsreport/jsreport-cli/lib/fetch')\n\n    at doRequire (/home/ruby/workspace/React_RoR/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/requireSandbox.js:89:11)\n    at sandboxRequire (/home/ruby/workspace/React_RoR/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/requireSandbox.js:44:14)\n    at require (/home/ruby/workspace/React_RoR/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:89:30)\n    at sandbox.js:1:164","meta":{"rootId":"s2bhy3c7yn874yc","id":"s2bhy3c7yn874yc"},"id":"0df2b6d4yn5j9f6","previousOperationId":"8fgbmst7foam0l0"}
{"type":"log","timestamp":1705273952313,"level":"warn","message":"Rendering request 175 finished with error in 11 ms","meta":{"rootId":"s2bhy3c7yn874yc","id":"s2bhy3c7yn874yc"},"id":"0suiwbg1ba955zh","previousOperationId":"8fgbmst7foam0l0"}
{"type":"error","timestamp":1705273952314,"statusCode":400,"weak":true,"decoratedSuffix":"\n\n(sandbox.js line 1:164)\n\n> 1 | const fethc = require('fetch');\n    |                                ^\n  2 |\n  3 | function fetchActivities() {\n  4 |     return fetch('http://localhost:4000/api/v1/activities')\n\n","entity":{"shortid":"z0qYUNaQrV","name":"users-script","content":"const fethc = require('fetch');\n\nfunction fetchActivities() {\n    return fetch('http://localhost:4000/api/v1/activities')\n        .then(activities => {\n            console.log('Fetched activities:', activities);\n            return activities;\n        })\n        .catch(error => {\n            console.error('Error fetching activities:', error);\n            throw error;\n        });\n}\n\n\n\nasync function beforeRender(req, res) {\n    try {\n        req.data.activities = fetchActivities();\n        console.log('Activities in beforeRender:', req.data.activities);\n    } catch (error) {\n        console.error('Error fetching activities:', error);\n    }\n}\n"},"property":"content","logged":true,"previousOperationId":"8fgbmst7foam0l0","id":"zvhcsrzraodhxzq","stack":"Error: Unable to find module fetch\nThe require calls:\nrequire('fetch')\nrequire('/home/ruby/workspace/React_RoR/jsreportapp/fetch')\nrequire('/home/ruby/workspace/React_RoR/jsreportapp/node_modules/@jsreport/jsreport-cli/lib/fetch')\n\n    at doRequire (/home/ruby/workspace/React_RoR/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/requireSandbox.js:89:11)\n    at sandboxRequire (/home/ruby/workspace/React_RoR/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/requireSandbox.js:44:14)\n    at require (/home/ruby/workspace/React_RoR/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:89:30)\n    at sandbox.js:1:164","message":"Error when evaluating custom script /Stillhigher/users-script\nUnable to find module fetch\nThe require calls:\nrequire('fetch')\nrequire('/home/ruby/workspace/React_RoR/jsreportapp/fetch')\nrequire('/home/ruby/workspace/React_RoR/jsreportapp/node_modules/@jsreport/jsreport-cli/lib/fetch')\n\n\n(sandbox.js line 1:164)\n\n> 1 | const fethc = require('fetch');\n    |                                ^\n  2 |\n  3 | function fetchActivities() {\n  4 |     return fetch('http://localhost:4000/api/v1/activities')\n\n"}
