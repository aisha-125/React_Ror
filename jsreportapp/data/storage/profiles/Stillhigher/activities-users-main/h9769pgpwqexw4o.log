{"type":"operationStart","subtype":"profile","data":{"_id":"xjysJMGEWemF1SPb","timestamp":"2024-01-14T23:53:23.632Z","state":"queued","mode":"standard","creationDate":"2024-01-14T23:53:23.634Z","modificationDate":"2024-01-14T23:53:23.634Z","shortid":"vewK1a6","$entitySet":"profiles"},"doDiffs":false,"timestamp":1705276403634,"id":"0ya1y0e1tio7u3f","previousOperationId":null,"operationId":"0ppz139szxzkbt5"}
{"type":"log","level":"info","message":"Render request 6 queued for execution and waiting for available worker","previousOperationId":"0ppz139szxzkbt5","timestamp":1705276403634,"id":"bx2hfqoe9z2x2qt"}
{"type":"operationStart","subtype":"render","name":"activities-users-main","previousOperationId":"0ppz139szxzkbt5","timestamp":1705276403639,"id":"lwc9wq6wdbipxnu","previousEventId":"0ya1y0e1tio7u3f","operationId":"z88drps81wy4k4o"}
{"type":"log","timestamp":1705276403639,"level":"info","message":"Starting rendering request 6","meta":{"rootId":"h9769pgpwqexw4o","id":"h9769pgpwqexw4o"},"id":"dz5ewc6kck05f9k","previousOperationId":"z88drps81wy4k4o"}
{"type":"log","timestamp":1705276403639,"level":"info","message":"Rendering template { name: activities-users-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"h9769pgpwqexw4o","id":"h9769pgpwqexw4o"},"id":"g5g4fmrdtumh0sk","previousOperationId":"z88drps81wy4k4o"}
{"type":"log","timestamp":1705276403640,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"h9769pgpwqexw4o","id":"h9769pgpwqexw4o"},"id":"kwd092sveji738s","previousOperationId":"z88drps81wy4k4o"}
{"type":"log","timestamp":1705276403641,"level":"debug","message":"Executing script users-script (beforeRender)","meta":{"rootId":"h9769pgpwqexw4o","id":"h9769pgpwqexw4o"},"id":"7zo7j3xxxxa77us","previousOperationId":"z88drps81wy4k4o"}
{"type":"log","timestamp":1705276403647,"level":"warn","message":"Error when processing render request 6\n(because) error when evaluating custom script /Stillhigher/users-script\n__report_root__ is not defined\n\n(sandbox.js line 2:38)\n\n  1 | const path = require('path');\n> 2 | const helpers = require(path.resolve(__report_root__, '../activities-users-main/helpers'));\n    |                                      ^\n  3 |\n  4 |\n  5 | const fetch = require('node-fetch');\n\n\nReferenceError: __report_root__ is not defined\n    at sandbox.js:2:38","meta":{"rootId":"h9769pgpwqexw4o","id":"h9769pgpwqexw4o"},"id":"qnpmgln5vlukxte","previousOperationId":"z88drps81wy4k4o"}
{"type":"log","timestamp":1705276403647,"level":"warn","message":"Rendering request 6 finished with error in 15 ms","meta":{"rootId":"h9769pgpwqexw4o","id":"h9769pgpwqexw4o"},"id":"wbtizcbahmouo5b","previousOperationId":"z88drps81wy4k4o"}
{"type":"error","timestamp":1705276403649,"statusCode":400,"weak":true,"lineNumber":2,"decoratedSuffix":"\n\n(sandbox.js line 2:38)\n\n  1 | const path = require('path');\n> 2 | const helpers = require(path.resolve(__report_root__, '../activities-users-main/helpers'));\n    |                                      ^\n  3 |\n  4 |\n  5 | const fetch = require('node-fetch');\n\n","entity":{"shortid":"z0qYUNaQrV","name":"users-script","content":"const path = require('path');\nconst helpers = require(path.resolve(__report_root__, '../activities-users-main/helpers'));\n\n\nconst fetch = require('node-fetch');\n\nasync function fetchActivities() {\n    const response = await fetch('http://localhost:4000/api/v1/activities');\n    if (!response.ok) {\n        throw new Error(`Network response was not ok: ${response.status} ${response.statusText}`);\n    }\n    const activities = await response.json();\n    return activities;\n}\n\nasync function beforeRender(req, res) {\n    try {\n        req.data.activities = await fetchActivities();\n        req.data.helpers = helpers;\n    } catch (error) {\n        console.error('Error fetching activities:', error);\n    }\n}"},"property":"content","logged":true,"previousOperationId":"z88drps81wy4k4o","id":"pq6rqhtv65l5afx","stack":"ReferenceError: __report_root__ is not defined\n    at sandbox.js:2:38","message":"Error when evaluating custom script /Stillhigher/users-script\n__report_root__ is not defined\n\n(sandbox.js line 2:38)\n\n  1 | const path = require('path');\n> 2 | const helpers = require(path.resolve(__report_root__, '../activities-users-main/helpers'));\n    |                                      ^\n  3 |\n  4 |\n  5 | const fetch = require('node-fetch');\n\n"}
